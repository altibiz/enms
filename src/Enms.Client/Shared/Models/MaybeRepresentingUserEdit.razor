@namespace Enms.Client.Shared.Models
@using Enms.Business.Models.Composite
@using Enms.Business.Models.Enums
@using Enms.Business.Models
@using MudBlazor
@inherits Enms.Client.Base.EnmsComponentBase

<!-- TODO: password -->

<MudText Typo="Typo.h5">User</MudText>
<MudPaper>
  <MudGrid>
    <MudItem xs="12" sm="6">
      <MudText Typo="Typo.body1">Id</MudText>
      <MudText Typo="Typo.body2">@Model.User.UserName</MudText>
    </MudItem>
    <MudItem xs="12" sm="6">
      <MudText Typo="Typo.body1">Email</MudText>
      <MudText Typo="Typo.body2">@Model.User.Email</MudText>
    </MudItem>
  </MudGrid>
</MudPaper>

@if (Model.MaybeRepresentative is not null)
{
  <MudText Typo="Typo.h5">Representative</MudText>
  <MudTextField
    Label="Title"
    @bind-Value="Model.MaybeRepresentative.Title"
    For="@(() => Model.MaybeRepresentative.Title)"/>
  <MudSelect
    T="RoleModel"
    Label="Coffee"
    AnchorOrigin="Origin.BottomCenter"
    @bind-Value="Model.MaybeRepresentative.Role"
    For="@(() => Model.MaybeRepresentative.Role)">
    <MudSelectItem Value="@RoleModel.OperatorRepresentative">
      Operator Representative
    </MudSelectItem>
    <MudSelectItem Value="@RoleModel.UserRepresentative">
      Network User Representative
    </MudSelectItem>
  </MudSelect>
  <MudTextField
    Label="Name"
    @bind-Value="Model.MaybeRepresentative.Name"
    For="@(() => Model.MaybeRepresentative.Name)"/>
  <MudTextField
    Label="SocialSecurityNumber"
    @bind-Value="Model.MaybeRepresentative.SocialSecurityNumber"
    For="@(() => Model.MaybeRepresentative.SocialSecurityNumber)"/>
  <MudTextField
    Label="Address"
    @bind-Value="Model.MaybeRepresentative.Address"
    For="@(() => Model.MaybeRepresentative.Address)"/>
  <MudTextField
    Label="City"
    @bind-Value="Model.MaybeRepresentative.City"
    For="@(() => Model.MaybeRepresentative.City)"/>
  <MudTextField
    Label="PostalCode"
    @bind-Value="Model.MaybeRepresentative.PostalCode"
    For="@(() => Model.MaybeRepresentative.PostalCode)"/>
  <MudTextField
    Label="Email"
    @bind-Value="Model.MaybeRepresentative.Email"
    For="@(() => Model.MaybeRepresentative.Email)"/>
  <MudTextField
    Label="PhoneNumber"
    @bind-Value="Model.MaybeRepresentative.PhoneNumber"
    For="@(() => Model.MaybeRepresentative.PhoneNumber)"/>
}
else
{
  <MudButton OnClick="@(() => Model.MaybeRepresentative = RepresentativeModel.New(Model.User))">
    @Translate("Create representative")
  </MudButton>
}

@code {

  [Parameter]
  public MaybeRepresentingUserModel Model { get; set; } = default!;

}

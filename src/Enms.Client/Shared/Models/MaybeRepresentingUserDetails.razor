@namespace Enms.Client.Shared.Models
@using Enms.Business.Models.Composite
@using Enms.Business.Models.Enums
@using Enms.Client.Shared.Fields
@using MudBlazor
@inherits Enms.Client.Base.EnmsComponentBase

<DetailsField Title="Id">
  @Model.User.UserName
</DetailsField>

<DetailsField Title="Email">
  @Model.User.Email
</DetailsField>

@if (Model.MaybeRepresentative is { } representative)
{
  <MudText Typo="Typo.h6" Class="mt-8">
    @Translate("Representative")
  </MudText>
  <MudDivider />

  <DetailsField Title="Role">
    @representative.Role
  </DetailsField>

  <DetailsField Title="Name">
    @representative.PhysicalPerson.Name
  </DetailsField>

  <DetailsField Title="Email">
    @representative.PhysicalPerson.Email
  </DetailsField>

  <DetailsField Title="Phone">
    @representative.PhysicalPerson.PhoneNumber
  </DetailsField>

  <DetailsField Title="Topics">
    @string.Join(", ", representative.Topics.Select(t => t.ToTitle()))
  </DetailsField>
}

@code {

  [Parameter]
  public MaybeRepresentingUserModel Model { get; set; } = default!;

}
